# LostArk Marketplace API Service

λ΅μ¤νΈμ•„ν¬ μ¤ν” API μ—°λ™ μ΄μ»¤λ¨Έμ¤ μ„λΉ„μ¤

## π“ ν”„λ΅μ νΈ κ°μ”

μ΄ ν”„λ΅μ νΈλ” **λ΅μ¤νΈμ•„ν¬ μ¤ν” API**μ™€ ν†µν•© μ΄μ»¤λ¨Έμ¤ API μ„λΉ„μ¤λ¥Ό μ κ³µν•©λ‹λ‹¤.

μ μ €λ” μμ‹ μ μΊλ¦­ν„° μ •λ³΄λ¥Ό μ—°λ™ν•΄ κ²μ„ λ‚΄ μ¬ν™”λ΅ μ•„μ΄ν…μ„ κµ¬λ§¤ν•κ±°λ‚ λ³΄λ„μ¤ ννƒμ„ μ§€κΈ‰λ°›μ„ μ μμµλ‹λ‹¤.

## π›  κΈ°λ¥ μ„¤λ…

### 1οΈβƒ£ νμ› μ •λ³΄ (ν•„μ μ‚¬ν•­)

**μ„¤λ…**

- μ μ €λ” λ΅μ¤νΈμ•„ν¬ μΊλ¦­ν„° μ •λ³΄λ¥Ό μ—°λ™ν•μ—¬ νμ› μ •λ³΄λ¥Ό κ΄€λ¦¬ν•©λ‹λ‹¤.

**μ„Έλ¶€ κΈ°λ¥**

- **ν”„λ΅ν•„ μ΅°ν λ° μμ •**:
    - `Spring Data JPA`λ¥Ό ν™μ©ν•΄ μ μ € μ •λ³΄ CRUD μν–‰.
    - λΉ„λ°€λ²νΈ λ³€κ²½ μ‹ `BCrypt` μ•”νΈν™” μ μ©.
    - `JWT`λ¥Ό ν†µν• μΈμ¦μΌλ΅ κ°μΈμ •λ³΄ μ ‘κ·Ό μ μ–΄.
- **λ΅μ¤νΈμ•„ν¬ μΊλ¦­ν„° μ—°λ™**:
    - λ΅μ¤νΈμ•„ν¬ μ¤ν” APIλ΅ μΊλ¦­ν„° λ©λ΅ λ° λ¥λ ¥μΉλ¥Ό λ¶λ¬μ™€ μ €μ¥.
- **κµ¬λ§¤ λ° κ²°μ  λ‚΄μ—­ μ΅°ν**:
    - DBμ™€ μ—°λ™ν•΄ `Spring Data JPA`λ΅ κ²°μ  μ΄λ ¥ κ΄€λ¦¬.
    - νμ΄μ§• μ²λ¦¬λ¥Ό μ μ©ν•΄ λ‚΄μ—­μ„ λ¶„ν•  μ΅°ν.
- **λΉ„λ°€λ²νΈ μ΄κΈ°ν™”**:
    - λλ¤ν• λΉ„λ°€λ²νΈ μƒμ„± ν›„ μ‘λ‹µ λ°ν™ λ° `Spring Data JPA`λ¥Ό ν†µν•΄ DBμ— λ°μ.

### 2οΈβƒ£ Market μ •λ³΄ μ‹¤μ‹κ°„ κ°±μ‹  (ν•„μ μ‚¬ν•­)

**μ„¤λ…**

- λ΅μ¤νΈμ•„ν¬ μ¤ν” APIμ Market μ •λ³΄λ¥Ό 5λ¶„λ§λ‹¤ μ£ΌκΈ°μ μΌλ΅ νΈμ¶ν•μ—¬ DBμ— μ €μ¥ν•©λ‹λ‹¤.

**μ„Έλ¶€ κΈ°λ¥**

- **DB μ €μ¥**:
    - `Spring Scheduler` λ¥Ό μ‚¬μ©ν•΄ 5λ¶„λ§λ‹¤ λ΅μ¤νΈμ•„ν¬ μ¤ν” APIμ—μ„ μµμ‹  Market μ •λ³΄λ¥Ό λ¶λ¬μ™€ DBμ— μ €μ¥.
- **λ°μ΄ν„° μ‘λ‹µ μµμ ν™”**:
    - ν΄λΌμ΄μ–ΈνΈ μ”μ²­ μ‹λ§λ‹¤ DBμ—μ„ λ°μ΄ν„°λ¥Ό μ΅°νν•μ—¬ μµμ‹  μƒνƒλ¥Ό μ μ§€ν•©λ‹λ‹¤.

### 3οΈβƒ£ μƒν’λ… κ²€μƒ‰ κΈ°λ¥ (ν•„μ μ‚¬ν•­)

**μ„¤λ…**

- Marketμ—μ„ κµ¬λ§¤ν•λ ¤λ” μƒν’μ„ κ²€μƒ‰ν•  μ μμµλ‹λ‹¤.

**μ„Έλ¶€ κΈ°λ¥**

- **μƒν’λ… μλ™ μ™„μ„±**:
    - **Apache Trie μλ£κµ¬μ΅°**λ¥Ό ν™μ©ν•μ—¬ μ…λ ¥λ κ²€μƒ‰μ–΄μ™€ μΌμΉν•λ” μƒν’λ…μ„ λΉ λ¥΄κ² μ¶”μ².
    - μ μ‚¬λ„ κΈ°λ° κ²°κ³Ό μ κ³µ.
    - μ‹¤μ‹κ°„μΌλ΅ Market λ°μ΄ν„°λ¥Ό PatriciaTrie κµ¬μ΅°μ— μ €μ¥ν•μ—¬ μλ™ μ™„μ„± κΈ°λ¥μ„ μµμ ν™”.
- **ν•„ν„° κΈ°λ¥**:
    - `Specification`κ³Ό λ™μ  `LIKE` μΏΌλ¦¬λ¥Ό μ‚¬μ©ν•΄ μƒν’λ…μ„ ν¬ν•¨ν•μ—¬ μƒν’λ…, λ“±κΈ‰, μ ν• μ΅°κ±΄μΌλ΅ κ²€μƒ‰ ν•„ν„°λ§μ„ μ§€μ›.
    - `Page`μ™€Β `Pageable`Β κ°μ²΄λ¥Ό ν†µν•΄ μλ™ μ™„μ„± κ²°κ³Όλ¥Ό νμ΄μ§€ λ‹¨μ„λ΅ μ κ³µ.

### 4οΈβƒ£ μΈκ²μ„ μ¬ν™” λ° ν¬μΈνΈλ΅ κµ¬λ§¤ κΈ°λ¥ (ν•„μ μ‚¬ν•­)

**μ„¤λ…**

- κ²μ„μ—μ„ νλ“ν• μΈκ²μ„ μ¬ν™”(κ³¨λ“)μ™€ ν¬μΈνΈλ¥Ό ν™μ©ν•΄ μ΄μ»¤λ¨Έμ¤ Marketμ—μ„ μ•„μ΄ν…μ„ κµ¬λ§¤ν•©λ‹λ‹¤.

**μ„Έλ¶€ κΈ°λ¥**

- **κ³¨λ“ κ²°μ **:
    - μ μ €μ μ”μ—¬ κ³¨λ“λ¥Ό ν™•μΈν•κ³  κ²°μ  μ²λ¦¬.
    - **κ³¨λ“ λ¶€μ΅± μ‹** κ²°μ  μ‹¤ν¨ λ©”μ‹μ§€λ¥Ό μ „λ‹¬.
- **κµ¬λ§¤ ν™•μ • μ‹ μΈλ²¤ν† λ¦¬ λ°μ**:
    - κ²°μ  μ™„λ£ ν›„ μ μ €μ μΈλ²¤ν† λ¦¬μ— μƒν’ μ •λ³΄ λ°μ.
- **ν™λ¶ κΈ°λ¥**:
    - κµ¬λ§¤ μ·¨μ† μ‹ κµ¬λ§¤ μ΄λ ¥μ„ ν™•μΈν•μ—¬ ν™λ¶ μ²λ¦¬.

### 5οΈβƒ£ μ¥λ°”κµ¬λ‹ κΈ°λ¥ (ν•„μ μ‚¬ν•­)

**μ„¤λ…**

- μ μ €κ°€ μƒν’μ„ μ¥λ°”κµ¬λ‹μ— λ‹΄μ•„ κ΄€λ¦¬ν•κ³  κ²°μ ν•  μ μμµλ‹λ‹¤.

**μ„Έλ¶€ κΈ°λ¥**

- **μƒν’ λ‹΄κΈ°**:
    - λ™μΌ μƒν’ μ„ νƒ μ‹ μλ‰μ΄ μλ™ μ¦κ°€.
- **μλ‰ λ³€κ²½ λ° μ‚­μ **:
    - μ¥λ°”κµ¬λ‹μ μλ‰ μ΅°μ • λ° μ‚­μ  μ²λ¦¬.
- **μ¥λ°”κµ¬λ‹ μ΅°ν**:
    - μ¥λ°”κµ¬λ‹ μ΄ κ°€κ²©κ³Ό κ²°μ μ— ν•„μ”ν• μ¬ν™”λ¥Ό κ³„μ‚°ν•΄ μ κ³µ.
- **μ¥λ°”κµ¬λ‹ κ²°μ **:
    - κ²°μ  μ‹ DBμ— κµ¬λ§¤ μ΄λ ¥μ„ μ €μ¥.

### 6οΈβƒ£ ν¬μΈνΈ μ λ¦½ κΈ°λ¥ (μ„ νƒ μ‚¬ν•­)

**μ„¤λ…**

- μ μ €κ°€ κ²°μ ν• κΈμ•΅μ΄λ‚ νΉμ • μ΄λ²¤νΈμ— λ”°λΌ ν¬μΈνΈλ¥Ό μ λ¦½ν•κ³ , μ λ¦½ν• ν¬μΈνΈλ΅ μƒν’μ„ κ²°μ ν•  μ μμµλ‹λ‹¤.

**μ„Έλ¶€ κΈ°λ¥**

1. **μΌλ° ν¬μΈνΈ μ λ¦½**
    - **κµ¬λ§¤ λ³΄μƒ**:
        - κ²°μ  κΈμ•΅μ 3%λ¥Ό ν¬μΈνΈλ΅ μ λ¦½.
        - λ‹¨, **μµμ† κ²°μ  κΈμ•΅μ€ 1000μ› μ΄μƒ**μ΄μ–΄μ•Ό ν•¨.
        - μ) 1,000μ› κ²°μ  μ‹ 30ν¬μΈνΈ μ λ¦½.
    - **μΌμΌ λ΅κ·ΈμΈ λ³΄μƒ**:
        - λ§¤μΌ λ΅κ·ΈμΈ μ‹ **10ν¬μΈνΈ** μ λ¦½.
    - **μ΄μ λ³΄μƒ**:
        - μ„λΉ„μ¤ μ¥μ• λ‚ λ¶νΈμΌλ΅ μΈν•΄ μ΄μ μΈ΅μ—μ„ μµλ€ **1,000ν¬μΈνΈ** μ§€κΈ‰.
2. **ν¬μΈνΈ μ ν¨ κΈ°κ°„**
    - μ λ¦½λ ν¬μΈνΈλ” **6κ°μ›” λ‚΄**μ— μ‚¬μ©ν•΄μ•Ό ν•λ©°, μ΄ν›„ μλ™ μ†λ©Έ.
3. **ν¬μΈνΈ νμ**
    - **κµ¬λ§¤ μ·¨μ† μ‹** μ λ¦½λ ν¬μΈνΈλ” νμ.
    - λ‹¨, μ΄λ―Έ μ‚¬μ©ν• ν¬μΈνΈλ” μ°¨κ°ν•μ§€ μ•μ.
4. **ν¬μΈνΈ μ‚¬μ© μ ν•**
    - **κ²°μ  κΈμ•΅μ 50% μ΄μƒμ€ μ¬ν™” κ²°μ **μ—¬μ•Ό ν•¨.

## π§‘β€π’» κΈ°μ  μ¤νƒ

- **Language**: Java 17
- **Framework**: Spring Boot 3.3.4
- **Build Tool**: Gradle
- **Database**:
    - **Production**: MariaDB
    - **Development**: H2 Database
- **ORM**: JPA (Java Persistence API)
- **Library**:
    - Lombok
    - Hibernate Validator
    - Apache Commons Collections 4
    - JPA Specification
- **Security**:
    - Spring Security
    - JWT (JSON Web Token)
- **Batch Processing**: Spring Scheduler
- **Test**: Junit5
- **Server**: Embedded Tomcat
- **Open API**: LostArk Open API
- **IDE**: Eclipse

## π’Ύ ERD
<img src="https://github.com/user-attachments/assets/a0c0205b-b23d-4cd6-9623-b3911f129eb3" width="800" height="650"/>  

## π”— API μ—°λ™ μ •λ³΄  
- **LostArk Open API**λ¥Ό ν™μ©ν•΄ **μΊλ¦­ν„° μ •λ³΄**μ™€ **κ±°λμ† μ •λ³΄**λ¥Ό λ¶λ¬μµλ‹λ‹¤.  

## π› οΈ Trouble Shooting
<a href="https://www.notion.so/Trouble-Shooting-124518e1879e801da845df0266401597">
    <img src="https://skillicons.dev/icons?i=notion" />
</a>
